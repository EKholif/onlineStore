<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{support/fragments/standard/layout/header::content}"></head>

<body>

<div th:replace="~{support/fragments/navbar/navbar::content}"></div>

<div class="container">
    <h2 class="text-center">[[${pageTitle}]]</h2>

    <form method="post" style="max-width: 700px; margin: 0 auto" th:action="@{/menus/save}" th:object="${menu}">
        <input th:field="*{id}" type="hidden"/>
        <input th:field="*{position}" type="hidden"/>

        <div class="border border-secondary rounded p-3">
            <div class="form-group row mb-3">
                <label class="col-sm-4 col-form-label">Title:</label>
                <div class="col-sm-8">
                    <input class="form-control" maxlength="128" minlength="5" required th:field="*{title}"
                           type="text"/>
                </div>
            </div>

            <div class="form-group row mb-3">
                <label class="col-sm-4 col-form-label">Alias:</label>
                <div class="col-sm-8">
                    <input class="form-control" maxlength="256" minlength="5" placeholder="Defaults to title with dashes if empty" th:field="*{alias}"
                           type="text"/>
                </div>
            </div>

            <div class="form-group row mb-3">
                <label class="col-sm-4 col-form-label">Article:</label>
                <div class="col-sm-8">
                    <select class="form-select" required="required" th:field="*{article}">
                        <th:block th:each="menuArticle : ${listArticles}">
                            <option th:value="${menuArticle.id}">[[${menuArticle.title}]]</option>
                        </th:block>
                    </select>
                </div>
            </div>

            <div class="form-group row mb-3">
                <label class="col-sm-4 col-form-label">Type:</label>
                <div class="col-sm-8">
                    <select class="form-select" th:field="*{type}">
                        <option value="HEADER">Header Menu</option>
                        <option value="FOOTER">Footer Menu</option>
                    </select>
                </div>
            </div>

            <div class="form-group row mb-3">
                <label class="col-sm-4 col-form-label">Enabled:</label>
                <div class="col-sm-8">
                    <div class="form-check">
                        <input class="form-check-input" id="enabledCheck" th:field="*{enabled}" type="checkbox">
                    </div>
                </div>
            </div>

            <div th:replace="~{support/fragments/standard/form_fragments :: save_reset_buttons}"></div>
        </div>
    </form>

    <div th:replace="~{support/fragments/standard/layout_fragments :: modal}"></div>
    <div th:replace="~{support/fragments/standard/layout_fragments :: footer}"></div>
</div>

<script th:src="@{/js/common.js}" type="text/javascript"></script>
<script th:src="@{/js/common_form.js}" type="text/javascript"></script>
<script type="text/javascript">
    moduleURL = "[[@{/menus}]]";
</script>
</body>

</html>