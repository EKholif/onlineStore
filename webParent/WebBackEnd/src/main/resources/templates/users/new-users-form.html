<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
>

<head th:replace="~{support/fragments/standard/layout/header::content}"></head>


<body>


<div th:replace="~{support/fragments/navbar/navbar::content}"></div>


<div class="container ">

    <h2 class="text-center">[[${pageTitle}]]</h2>

    <form enctype="multipart/form-data" method="post" onsubmit="return checkDuplicateEmail(this);" style="max-width: 7500px ; margin: 0 auto"
          th:action="@{${saveChanges}}" th:object="${user}">
        <input id="id" name="id" th:value="${id}" type="hidden"/>
        <div>
            <div class="form-text rounded-3">
                <input class="form-control col-4 mb-4" minlength="2" placeholder="enter first name" required th:field="*{firstName}"
                       type="text"/>
                <input class="form-control col-2 mb-2" placeholder="enter last name" th:field="*{lastName}"
                       type="text"/>
                <input class="form-control col-4 mb-4" id="email" placeholder="enter email" th:field="*{email}"
                       type="text"/>

                <input class="form-control col-2 mb-2" id="Password" ninput="checkPasswordMatch(document.getElementById(')"
                       placeholder="enter your Password or leave Blank" th:field="*{password}"
                       type="password"/>


                <input class="form-control col-2 mb-2" id="confirmPassword" oninput="checkPasswordMatch(this)"
                       placeholder="confirm Password" type="password"/>


            </div>
        </div>


        <div class="checkboxes">
            <label class="col-sm-4 col-form-label">Roles</label>
            <div class="col-sm-8">
                <th:block th:each="role: ${listItems}">
                    <input class="m-2" th:field="*{roles}" th:text="${role.name}" th:value="${role.id}"
                           type="checkbox"/>
                    <small>[[${role.descrption}]]</small>
                    <br/>
                </th:block>
            </div>
        </div>


        <div class="checkboxes">
            <label class="col-sm-4 col-form-label">Enable</label>
            <div class="col-sm-8 ">
                <input type="checkbox" th:field="*{enable}"/>
            </div>
        </div>

        <div class="form row">
            <label class="col-sm-4 col-form-label">Photo</label>
            <div class="col-sm-8 ">
                <input accept="image/jpg, image/jpeg, image/png" class="mb-2 fileImage" id="fileImage" name="image"
                       type="file"/>
                <img alt="user Photo" class="img-thumbnail rounded-circle float-left  thumbnail" id="thumbnail"
                     style="width: 200px" th:src="@{${user.getImagePath()}}"/>
            </div>
        </div>


        <div th:replace="~{support/fragments/standard/form_fragments :: save_reset_buttons}"></div>

    </form>


    <div th:replace="~{support/fragments/standard/layout_fragments :: modal}"></div>

</div>

<div th:replace="~{support/fragments/standard/layout_fragments :: footer}"></div>


<script th:src="@{/js/common.js}" type="text/javascript"></script>

<script>$j = jQuery.noConflict();

var $ = jQuery; </script>

<script>
    const windowLocationValue = `[[@{${name}}]]`;

    var url = "[[@{/check_email}]]";
    Max_File_Size = 1042000;


</script>



</body>



</html>