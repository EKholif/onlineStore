<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{support/fragments/standard/layout/header::content}"></head>

<body>
	<div class="container-fluid">
		<div th:replace="~{support/fragments/navbar/navbar::content}"></div>

		<h2 class="text-center">[[${pageTitle}]]</h2>

        <div th:replace="~{support/fragments/standard/layout_fragments :: search_form}"></div>

        <form method="post" onsubmit="return processFormBeforeSubmit();" th:action="@{/order/save}"
              th:object="${order}">
			<input type="hidden" th:field="*{id}" />
			<div>
				<ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#overview"
                                            id="overview-tab" role="tab">Overview</a>
					</li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#products" id="products-tab"
                                            role="tab">Products</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#shipping" id="shipping-tab"
                                            role="tab">Shipping</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#track" id="track-tab"
                                            role="tab">Track</a></li>
				</ul>
				<div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active p-3" id="overview" role="tabpanel">
						<div th:replace="~{orders/order-form-fragment/order_form_overview :: content}"></div>
					</div>

					<div class="tab-pane fade p-3" id="products" role="tabpanel">
						<div th:replace="~{orders/order-form-fragment/order_form_products :: content}"></div>
					</div>

					<div class="tab-pane fade p-3" id="shipping" role="tabpanel">
						<div th:replace="~{orders/order-form-fragment/order_form_shipping :: content}"></div>
					</div>

					<div class="tab-pane fade p-3" id="track" role="tabpanel">
						<div th:replace="~{orders/order-form-fragment/order_form_tracks:: content}"></div>
					</div>
				</div>
			</div>
            <div th:replace="~{support/fragments/standard/form_fragments :: save_reset_buttons}"></div>
		</form>

		<div th:replace="~{orders/modal_fragments::content}"></div>

		<div th:replace="~{orders/add_product_modal::content}"></div>

        <div th:replace="~{support/fragments/standard/layout_fragments :: footer}"></div>
	</div>

	<script th:src="@{/js/order_form_remove_product.js}"></script>
	<script th:src="@{/js/common_form.js}"></script>
	<script th:src="@{/js/common_form_country_state.js}"></script>
	<script th:src="@{/js/jquery.number.min.js}"></script>
	<script th:src="@{/js/order_form_overview_products.js}"></script>
	<script th:src="@{/js/order_form_add_product.js}"></script>

	<script th:src="@{/js/order_form_tracks.js}"></script>


	<script type="text/javascript">
		contextPath = "[[@{/}]]";
		var csrfHeaderName = "[[${_csrf.headerName}]]";
		var csrfValue = "[[${_csrf.token}]]";

		$(document).ready(function () {

			$('#buttonCancel').click(function () {
				window.location = "[[@{/orders}]]";
			});

		});
	</script>



</body>

</html>