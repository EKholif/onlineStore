<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{supports/header/header::content}"></head>
<body>

<div class="container-fluid mt-3">
<div th:replace="~{supports/navbar/navbar::content}"></div>
<div th:replace="~{supports/fragment::search}"></div>


<div th:replace="~{supports/breadcrumb :: content}"></div>



    <div class="row">
        <!-- Right column: Categories & Subcategories -->


        <div class="col-md-3 border-end">
            <h5 class="fw-bold bg-body-secondary mb-3 text-center"> üõçÔ∏è Categories </h5>
            <div class="list-group">
                <div th:each="cat : ${listCategories}" class="mb-3">
                    <div class="d-flex align-items-center">
                        <img th:src="@{${cat.getCatImagePath}}"
                             style="width: 50px; height: 50px; object-fit: contain; margin-right: 10px;" />
                        <a th:href="@{'/c/' + ${cat.alias}}"
                           class="list-group-item-action text-decoration-none fw-bold h4 mb-0">
                            [[${cat.name}]]
                        </a>
                    </div>

                    <!-- Subcategories -->
                    <div th:if="${cat.children != null}" class="ms-5 mt-2">
                        <div th:each="sub : ${cat.children}" class="d-flex align-items-center mb-1">
                            <img th:src="@{${sub.getCatImagePath}}"
                                 style="width: 25px; height: 25px; object-fit: contain; margin-right: 8px;" />
                            <a th:href="@{'/c/' + ${sub.alias}}"
                               class="small text-muted text-decoration-none h6 mb-0">
                                [[${sub.name}]]
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Left column: On Sale Products -->
        <div class="col-md-9">
            <h5 class="mb-3 text-center bg-primary-subtle">üî• On Sale üî• </h5>

            <div th:replace="~{supports/sortAndSearchDrop/sort_drop_menu :: sort_dropdown(
                ${modelUrl}, ${currentPage}, ${sortField}, ${sortDir}, ${keyWord})}">
            </div>


            <div class="row row-cols-2 row-cols-md-4 g-3">
                <div class="col" th:each="product : ${listProductOnSale}">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="p-2 text-center">
                            <img th:src="@{${product.getImagePath}}"
                                 class="card-img-top"
                                 style="width: 100%; height: 120px; object-fit: contain;" />
                        </div>
                        <div class="card-body text-center p-2">
                            <a th:href="@{'/p/' + ${product.alias}}"
                               class="text-decoration-none small d-block">
                                [[${product.shortName}]]
                            </a>
                            <div th:replace="~{product/product_fragment :: product_price}"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <nav th:replace="~{supports/paginate::content}"></nav>

<div th:replace="~{supports/footer/footer_menu::content}"></div>
</div>
</div>
<script type="text/javascript">

</script>
</body>
</html>